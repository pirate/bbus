---
title: Forwarding Between Buses
description: Compose multiple buses with automatic forwarding loop prevention.
---

You can forward events across multiple buses while preserving event path metadata.

Parent-child tracking also works across forwarded flows:

- if a forwarded event is handled on a downstream bus and that handler emits a child event, the child still links back to the parent via `event_parent_id`
- nested descendants emitted on downstream buses keep that lineage as they continue through forwarding
- this remains true for both queue-jumped children (`await child`) and normally queued children (emitted but not immediately awaited)

See [Parent-Child Tracking](./parent-child-tracking) for a deeper walkthrough and tree-log example.
See [Immediate Execution (RPC-style)](../concurrency/immediate-execution) for queue-jump execution behavior.

<Tabs>
<Tab title="Python">

```python
from bubus import EventBus, BaseEvent

class LoginEvent(BaseEvent):
    user_id: str

main_bus = EventBus('MainBus')
auth_bus = EventBus('AuthBus')
data_bus = EventBus('DataBus')

main_bus.on('*', auth_bus.emit)
auth_bus.on('*', data_bus.emit)
data_bus.on('*', main_bus.emit)

event = await main_bus.emit(LoginEvent(user_id='u-123'))
print(event.event_path)
# ['MainBus#a8d1', 'AuthBus#3f2c', 'DataBus#b91e']
```

</Tab>
<Tab title="TypeScript">

```ts
import { BaseEvent, EventBus } from 'bubus'
import { z } from 'zod'

const LoginEvent = BaseEvent.extend('LoginEvent', { user_id: z.string() })

const mainBus = new EventBus('MainBus')
const authBus = new EventBus('AuthBus')
const dataBus = new EventBus('DataBus')

mainBus.on('*', authBus.emit)
authBus.on('*', dataBus.emit)
dataBus.on('*', mainBus.emit)

const event = mainBus.emit(LoginEvent({ user_id: 'u-123' }))
await event.done()
console.log(event.event_path)
```

</Tab>
</Tabs>
